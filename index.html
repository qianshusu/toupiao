<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>投票小程序</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  
  <!-- Tailwind 配置 -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#165DFF',
            secondary: '#4080FF',
            success: '#00B42A',
            warning: '#FF7D00',
            danger: '#F53F3F',
            dark: '#1D2129',
            light: '#F2F3F5'
          },
          fontFamily: {
            inter: ['Inter', 'sans-serif'],
          },
        },
      }
    }
  </script>
  
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .cursor-dot {
        width: 8px;
        height: 8px;
        background-color: #165DFF;
        border-radius: 50%;
        position: fixed;
        pointer-events: none;
        z-index: 9999;
        transition: width 0.2s, height 0.2s;
      }
      .cursor-dot.active {
        width: 24px;
        height: 24px;
        opacity: 0.3;
      }
      .animate-float {
        animation: float 3s ease-in-out infinite;
      }
      @keyframes float {
        0% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
        100% { transform: translateY(0px); }
      }
      .text-shadow {
        text-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }
      .card-hover {
        transition: all 0.3s ease;
      }
      .card-hover:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      }
    }
  </style>
</head>

<body class="font-inter bg-gray-50 text-dark">
  <!-- 鼠标跟随特效 -->
  <div id="cursor-dot" class="cursor-dot"></div>
  
  <!-- 导航栏 -->
  <header class="fixed top-0 left-0 right-0 bg-white shadow-md z-50 transition-all duration-300" id="navbar">
    <div class="container mx-auto px-4 py-3 flex justify-between items-center">
      <a href="#home" class="text-2xl font-bold text-primary flex items-center">
        <i class="fa fa-pie-chart mr-2"></i>
        <span>投票小程序</span>
      </a>
      
      <nav class="hidden md:flex space-x-8">
        <a href="#home" class="text-dark hover:text-primary transition-colors duration-200 font-medium">首页</a>
        <a href="#dynamic" class="text-dark hover:text-primary transition-colors duration-200 font-medium">动态</a>
        <a href="#vote" class="text-dark hover:text-primary transition-colors duration-200 font-medium">投票</a>
        <a href="#mine" class="text-dark hover:text-primary transition-colors duration-200 font-medium">我的</a>
      </nav>
      
      <div class="flex items-center space-x-4">
        <button id="login-btn" class="px-4 py-2 rounded-md bg-white text-primary border border-primary hover:bg-primary/5 transition-colors duration-200">
          登录
        </button>
        <button id="register-btn" class="px-4 py-2 rounded-md bg-primary text-white hover:bg-primary/90 transition-colors duration-200">
          注册
        </button>
        <button class="md:hidden" id="menu-toggle">
          <i class="fa fa-bars text-xl"></i>
        </button>
      </div>
    </div>
    
    <!-- 移动端菜单 -->
    <div id="mobile-menu" class="hidden md:hidden bg-white shadow-lg absolute w-full">
      <div class="container mx-auto px-4 py-3 flex flex-col space-y-4">
        <a href="#home" class="text-dark hover:text-primary transition-colors duration-200 py-2 border-b border-gray-100">首页</a>
        <a href="#dynamic" class="text-dark hover:text-primary transition-colors duration-200 py-2 border-b border-gray-100">动态</a>
        <a href="#vote" class="text-dark hover:text-primary transition-colors duration-200 py-2 border-b border-gray-100">投票</a>
        <a href="#mine" class="text-dark hover:text-primary transition-colors duration-200 py-2">我的</a>
      </div>
    </div>
  </header>

  <!-- 主内容 -->
  <main class="container mx-auto px-4 pt-24 pb-16">
    <!-- 首页 -->
    <section id="home" class="min-h-screen flex flex-col justify-center">
      <div class="grid md:grid-cols-2 gap-12 items-center">
        <div class="space-y-6">
          <h1 class="text-[clamp(2rem,5vw,3.5rem)] font-bold leading-tight text-shadow">
            简单高效的<br><span class="text-primary">投票解决方案</span>
          </h1>
          <p class="text-lg text-gray-600 max-w-lg">
            轻松创建投票、参与讨论，实时查看结果，让决策变得简单高效。支持多种投票类型，满足不同场景需求。
          </p>
          <!-- 新增轮播容器 -->
          <div class="swiper mySwiper w-full max-w-2xl rounded-lg overflow-hidden shadow-md">
            <div class="swiper-wrapper">
              <div class="swiper-slide"><img src="./images/img1.png" alt="轮播图1" class="w-full h-auto"></div>
              <div class="swiper-slide"><img src="./images/img2.png" alt="轮播图2" class="w-full h-auto"></div>
              <div class="swiper-slide"><img src="./images/img3.png" alt="轮播图3" class="w-full h-auto"></div>
            </div>
            <div class="swiper-pagination"></div>
          </div>
          <div class="flex flex-wrap gap-4 pt-4">
            <a href="#vote" class="px-6 py-3 bg-primary text-white rounded-lg shadow-lg hover:shadow-xl hover:bg-primary/90 transition-all duration-300 flex items-center">
              <i class="fa fa-pencil-square-o mr-2"></i> 发起投票
            </a>
            <a href="#dynamic" class="px-6 py-3 bg-white text-primary border border-primary rounded-lg shadow-md hover:shadow-lg hover:bg-primary/5 transition-all duration-300 flex items-center">
              <i class="fa fa-eye mr-2"></i> 查看投票
            </a>
          </div>
        </div>
        <div class="relative">
          <div class="bg-gradient-to-br from-primary/10 to-secondary/10 rounded-3xl p-8 animate-float">
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
              <div class="p-6">
                <h3 class="text-xl font-semibold mb-4">热门投票</h3>
                <div class="space-y-4">
                  <div class="vote-item card-hover p-4 bg-light rounded-lg">
                    <h4 class="font-medium mb-2">你最喜欢的编程语言是什么？</h4>
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                      <div class="bg-primary h-2.5 rounded-full" style="width: 65%"></div>
                    </div>
                    <div class="flex justify-between text-sm mt-1">
                      <span>JavaScript (65%)</span>
                      <span>1,234 票</span>
                    </div>
                  </div>
                  
                  <div class="vote-item card-hover p-4 bg-light rounded-lg">
                    <h4 class="font-medium mb-2">你每天使用最多的开发工具？</h4>
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                      <div class="bg-secondary h-2.5 rounded-full" style="width: 48%"></div>
                    </div>
                    <div class="flex justify-between text-sm mt-1">
                      <span>VS Code (48%)</span>
                      <span>987 票</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- 装饰元素 -->
          <div class="absolute -top-4 -right-4 w-24 h-24 bg-success/20 rounded-full blur-xl"></div>
          <div class="absolute -bottom-8 -left-8 w-32 h-32 bg-warning/20 rounded-full blur-xl"></div>
        </div>
      </div>
      
      <!-- 统计数据 -->
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mt-20">
        <div class="bg-white p-6 rounded-xl shadow-md text-center card-hover">
          <div class="text-3xl font-bold text-primary mb-2">10,000+</div>
          <div class="text-gray-600">活跃用户</div>
        </div>
        <div class="bg-white p-6 rounded-xl shadow-md text-center card-hover">
          <div class="text-3xl font-bold text-secondary mb-2">5,000+</div>
          <div class="text-gray-600">投票总数</div>
        </div>
        <div class="bg-white p-6 rounded-xl shadow-md text-center card-hover">
          <div class="text-3xl font-bold text-success mb-2">250,000+</div>
          <div class="text-gray-600">总投票数</div>
        </div>
        <div class="bg-white p-6 rounded-xl shadow-md text-center card-hover">
          <div class="text-3xl font-bold text-warning mb-2">98%</div>
          <div class="text-gray-600">满意度</div>
        </div>
      </div>
    </section>
    
    <!-- 动态页面 -->
    <section id="dynamic" class="min-h-screen pt-16">
      <div class="text-center mb-12">
        <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4">最新动态</h2>
        <p class="text-gray-600 max-w-2xl mx-auto">了解平台上的最新投票活动和用户讨论，参与热门话题的讨论和决策。</p>
      </div>
      
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        <!-- 动态卡片 1 -->
        <div class="bg-white rounded-xl shadow-md overflow-hidden card-hover">
          <div class="p-6">
            <div class="flex items-center mb-4">
              <img src="https://picsum.photos/200/200?random=1" alt="用户头像" class="w-10 h-10 rounded-full mr-3">
              <div>
                <h4 class="font-medium">张三</h4>
                <p class="text-sm text-gray-500">发起了新投票 · 现在</p>
              </div>
            </div>
            <h3 class="font-semibold text-lg mb-2">实训地点选择</h3>
            <p class="text-gray-600 mb-4">大家觉得实训教室在哪比较好？我列出了几个候选地点，请大家投票选择。</p>
            <div class="flex justify-between items-center">
              <span class="text-sm text-primary">4个选项</span>
              <button class="px-3 py-1 text-sm bg-primary/10 text-primary rounded-full hover:bg-primary/20 transition-colors duration-200">
                参与投票
              </button>
            </div>
          </div>
        </div>
        
        <!-- 动态卡片 2 -->
        <div class="bg-white rounded-xl shadow-md overflow-hidden card-hover">
          <div class="p-6">
            <div class="flex items-center mb-4">
              <img src="https://picsum.photos/200/200?random=2" alt="用户头像" class="w-10 h-10 rounded-full mr-3">
              <div>
                <h4 class="font-medium">李四</h4>
                <p class="text-sm text-gray-500">参与了投票 · 昨天</p>
              </div>
            </div>
            <h3 class="font-semibold text-lg mb-2">最喜欢的前端框架</h3>
            <p class="text-gray-600 mb-4">我选择了React作为最喜欢的前端框架，因为它的生态系统非常完善，学习资源也很多。</p>
            <div class="flex justify-between items-center">
              <span class="text-sm text-gray-500">已结束 · 0人参与</span>
              <button class="px-3 py-1 text-sm bg-gray-100 text-gray-600 rounded-full hover:bg-gray-200 transition-colors duration-200">
                查看结果
              </button>
            </div>
          </div>
        </div>
        
        <!-- 动态卡片 3 -->
        <div class="bg-white rounded-xl shadow-md overflow-hidden card-hover">
          <div class="p-6">
            <div class="flex items-center mb-4">
              <img src="https://picsum.photos/200/200?random=3" alt="用户头像" class="w-10 h-10 rounded-full mr-3">
              <div>
                <h4 class="font-medium">王五</h4>
                <p class="text-sm text-gray-500">发起了新投票 · 3天前</p>
              </div>
            </div>
            <h3 class="font-semibold text-lg mb-2">中午去哪个食堂吃饭</h3>
            <p class="text-gray-600 mb-4">去南食堂吃饭？还是北食堂吃饭？</p>
            <div class="flex justify-between items-center">
              <span class="text-sm text-warning">进行中 · 0人参与</span>
              <button class="px-3 py-1 text-sm bg-primary/10 text-primary rounded-full hover:bg-primary/20 transition-colors duration-200">
                参与投票
              </button>
            </div>
          </div>
        </div>
      </div>
      
      <div class="text-center mt-12">
        <button class="px-6 py-3 bg-white text-primary border border-primary rounded-lg shadow-md hover:shadow-lg hover:bg-primary/5 transition-all duration-300">
          加载更多 <i class="fa fa-angle-down ml-1"></i>
        </button>
      </div>
    </section>
    
    <!-- 投票模块页面 -->
    <section id="vote" class="min-h-screen pt-16">
      <div class="text-center mb-12">
        <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4">发起投票</h2>
        <p class="text-gray-600 max-w-2xl mx-auto">创建你自己的投票，设置选项和时间，邀请他人参与，实时查看结果。</p>
      </div>
      
      <div class="grid md:grid-cols-2 gap-12">
        <!-- 投票表单 -->
        <div class="bg-white rounded-xl shadow-md p-8">
          <h3 class="text-xl font-semibold mb-6">创建新投票</h3>
          <form id="vote-form" class="space-y-6">
            <div>
              <label for="vote-title" class="block text-sm font-medium text-gray-700 mb-1">投票标题 <span class="text-danger">*</span></label>
              <input type="text" id="vote-title" name="vote-title" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200" placeholder="请输入投票标题">
              <p class="error-message text-danger text-sm mt-1 hidden">请输入有效的投票标题（3-50个字符）</p>
            </div>
            
            <div>
              <label for="vote-description" class="block text-sm font-medium text-gray-700 mb-1">投票描述</label>
              <textarea id="vote-description" name="vote-description" rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200" placeholder="请输入投票描述（可选）"></textarea>
            </div>
            
            <div>
              <label for="vote-type" class="block text-sm font-medium text-gray-700 mb-1">投票类型 <span class="text-danger">*</span></label>
              <select id="vote-type" name="vote-type" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200">
                <option value="">请选择投票类型</option>
                <option value="single">单选</option>
                <option value="multiple">多选</option>
                <option value="rank">排序</option>
              </select>
              <p class="error-message text-danger text-sm mt-1 hidden">请选择投票类型</p>
            </div>
            
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">投票选项 <span class="text-danger">*</span></label>
              <div id="options-container" class="space-y-3">
                <div class="flex items-center">
                  <input type="text" class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200" placeholder="请输入选项名称" data-option>
                  <button type="button" class="ml-2 text-gray-500 hover:text-danger" data-remove-option>
                    <i class="fa fa-times"></i>
                  </button>
                </div>
                <div class="flex items-center">
                  <input type="text" class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200" placeholder="请输入选项名称" data-option>
                  <button type="button" class="ml-2 text-gray-500 hover:text-danger" data-remove-option>
                    <i class="fa fa-times"></i>
                  </button>
                </div>
              </div>
              <button type="button" class="mt-2 text-primary hover:text-primary/80 text-sm flex items-center" id="add-option">
                <i class="fa fa-plus-circle mr-1"></i> 添加选项
              </button>
              <p class="error-message text-danger text-sm mt-1 hidden">至少需要两个选项</p>
            </div>
            
            <div>
              <label for="vote-duration" class="block text-sm font-medium text-gray-700 mb-1">投票持续时间 <span class="text-danger">*</span></label>
              <div class="grid grid-cols-2 gap-4">
                <div>
                  <label for="start-date" class="block text-xs text-gray-500 mb-1">开始日期</label>
                  <input type="date" id="start-date" name="start-date" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200">
                </div>
                <div>
                  <label for="end-date" class="block text-xs text-gray-500 mb-1">结束日期</label>
                  <input type="date" id="end-date" name="end-date" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200">
                </div>
              </div>
              <p class="error-message text-danger text-sm mt-1 hidden">请选择有效的开始和结束日期</p>
            </div>
            
            <div class="pt-4">
              <button type="submit" class="w-full py-3 bg-primary text-white rounded-lg shadow-md hover:shadow-lg hover:bg-primary/90 transition-all duration-300 flex items-center justify-center">
                <i class="fa fa-paper-plane mr-2"></i> 发布投票
              </button>
            </div>
          </form>
        </div>
        
        <!-- 投票统计 -->
        <div class="bg-white rounded-xl shadow-md p-8">
          <h3 class="text-xl font-semibold mb-6">投票统计</h3>
          
          <!-- ECharts 容器 -->
          <div id="vote-chart" class="w-full h-80 mb-8"></div>
          
          <div class="space-y-4">
            <div class="p-4 bg-light rounded-lg">
              <div class="flex justify-between items-center mb-2">
                <h4 class="font-medium">总投票数</h4>
                <span class="text-lg font-semibold text-primary">1,234</span>
              </div>
              <div class="w-full bg-gray-200 rounded-full h-2">
                <div class="bg-primary h-2 rounded-full" style="width: 75%"></div>
              </div>
            </div>
            
            <div class="p-4 bg-light rounded-lg">
              <div class="flex justify-between items-center mb-2">
                <h4 class="font-medium">活跃投票</h4>
                <span class="text-lg font-semibold text-secondary">42</span>
              </div>
              <div class="w-full bg-gray-200 rounded-full h-2">
                <div class="bg-secondary h-2 rounded-full" style="width: 60%"></div>
              </div>
            </div>
            
            <div class="p-4 bg-light rounded-lg">
              <div class="flex justify-between items-center mb-2">
                <h4 class="font-medium">已结束投票</h4>
                <span class="text-lg font-semibold text-gray-600">158</span>
              </div>
              <div class="w-full bg-gray-200 rounded-full h-2">
                <div class="bg-gray-400 h-2 rounded-full" style="width: 85%"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <!-- 我的页面 -->
    <section id="mine" class="min-h-screen pt-16">
      <div class="text-center mb-12">
        <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4">我的账户</h2>
        <p class="text-gray-600 max-w-2xl mx-auto">管理你的个人信息、已创建的投票和参与记录。</p>
      </div>
      
      <div class="grid md:grid-cols-3 gap-8">
        <!-- 个人信息 -->
        <div class="bg-white rounded-xl shadow-md p-8 md:col-span-1">
          <div class="text-center mb-6">
            <div class="relative inline-block">
              <img src="https://picsum.photos/200/200?random=4" alt="用户头像" class="w-24 h-24 rounded-full mx-auto border-4 border-white shadow-lg">
              <div class="absolute bottom-0 right-0 w-6 h-6 bg-success rounded-full border-2 border-white"></div>
            </div>
            <h3 class="font-semibold text-lg mt-4">未登录用户</h3>
            <p class="text-gray-500 text-sm">请登录以查看完整个人信息</p>
          </div>
          
          <div class="space-y-4">
            <div class="flex items-center p-3 bg-light rounded-lg">
              <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary">
                <i class="fa fa-file-text-o"></i>
              </div>
              <div class="ml-3">
                <div class="text-sm text-gray-500">已创建投票</div>
                <div class="font-medium">0</div>
              </div>
            </div>
            
            <div class="flex items-center p-3 bg-light rounded-lg">
              <div class="w-10 h-10 rounded-full bg-secondary/10 flex items-center justify-center text-secondary">
                <i class="fa fa-check-square-o"></i>
              </div>
              <div class="ml-3">
                <div class="text-sm text-gray-500">已参与投票</div>
                <div class="font-medium">0</div>
              </div>
            </div>
            
            <div class="flex items-center p-3 bg-light rounded-lg">
              <div class="w-10 h-10 rounded-full bg-warning/10 flex items-center justify-center text-warning">
                <i class="fa fa-clock-o"></i>
              </div>
              <div class="ml-3">
                <div class="text-sm text-gray-500">进行中投票</div>
                <div class="font-medium">0</div>
              </div>
            </div>
          </div>
          
          <button class="w-full mt-8 py-3 bg-primary text-white rounded-lg shadow-md hover:shadow-lg hover:bg-primary/90 transition-all duration-300 flex items-center justify-center" id="login-modal-btn">
            <i class="fa fa-sign-in mr-2"></i> 登录/注册
          </button>
        </div>
        
        <!-- 登录/注册表单 -->
        <div class="bg-white rounded-xl shadow-md p-8 md:col-span-2">
          <div class="flex mb-8">
            <button class="flex-1 py-3 font-medium border-b-2 border-primary text-primary" id="login-tab">登录</button>
            <button class="flex-1 py-3 font-medium border-b-2 border-transparent text-gray-500" id="register-tab">注册</button>
          </div>
          
          <!-- 登录表单 -->
          <div id="login-form-container">
            <form id="login-form" class="space-y-6">
              <div>
                <label for="login-username" class="block text-sm font-medium text-gray-700 mb-1">用户名/邮箱</label>
                <div class="relative">
                  <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                    <i class="fa fa-user-o text-gray-400"></i>
                  </div>
                  <input type="text" id="login-username" name="login-username" class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200" placeholder="请输入用户名或邮箱">
                </div>
                <p class="error-message text-danger text-sm mt-1 hidden">请输入有效的用户名或邮箱</p>
              </div>
              
              <div>
                <label for="login-password" class="block text-sm font-medium text-gray-700 mb-1">密码</label>
                <div class="relative">
                  <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                    <i class="fa fa-lock text-gray-400"></i>
                  </div>
                  <input type="password" id="login-password" name="login-password" class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200" placeholder="请输入密码">
                  <button type="button" class="absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600" id="toggle-login-password">
                    <i class="fa fa-eye-slash"></i>
                  </button>
                </div>
                <p class="error-message text-danger text-sm mt-1 hidden">请输入有效的密码（至少6位）</p>
              </div>
              
              <div class="flex items-center justify-between">
                <div class="flex items-center">
                  <input type="checkbox" id="remember-me" name="remember-me" class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary">
                  <label for="remember-me" class="ml-2 block text-sm text-gray-700">记住我</label>
                </div>
                <a href="#" class="text-sm text-primary hover:text-primary/80">忘记密码？</a>
              </div>
              
              <div>
                <button type="submit" class="w-full py-3 bg-primary text-white rounded-lg shadow-md hover:shadow-lg hover:bg-primary/90 transition-all duration-300">
                  登录
                </button>
              </div>
              
              <div class="text-center text-sm text-gray-600">
                还没有账户？ <button type="button" class="text-primary hover:text-primary/80 font-medium" id="switch-to-register">立即注册</button>
              </div>
            </form>
          </div>
          
          <!-- 注册表单 -->
          <div id="register-form-container" class="hidden">
            <form id="register-form" class="space-y-6">
              <div>
                <label for="register-username" class="block text-sm font-medium text-gray-700 mb-1">用户名 <span class="text-danger">*</span></label>
                <div class="relative">
                  <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                    <i class="fa fa-user-o text-gray-400"></i>
                  </div>
                  <input type="text" id="register-username" name="register-username" class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200" placeholder="请输入用户名">
                </div>
                <p class="error-message text-danger text-sm mt-1 hidden">用户名格式错误，需为 3-20 位字母、数字或下划线</p>
              </div>
              
              <div>
                <label for="register-email" class="block text-sm font-medium text-gray-700 mb-1">邮箱 <span class="text-danger">*</span></label>
                <div class="relative">
                  <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                    <i class="fa fa-envelope-o text-gray-400"></i>
                  </div>
                  <input type="email" id="register-email" name="register-email" class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200" placeholder="请输入邮箱">
                </div>
                <p class="error-message text-danger text-sm mt-1 hidden">请输入有效的邮箱地址</p>
              </div>
              
              <div>
                <label for="register-password" class="block text-sm font-medium text-gray-700 mb-1">密码 <span class="text-danger">*</span></label>
                <div class="relative">
                  <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                    <i class="fa fa-lock text-gray-400"></i>
                  </div>
                  <input type="password" id="register-password" name="register-password" class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200" placeholder="请输入密码">
                  <button type="button" class="absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600" id="toggle-register-password">
                    <i class="fa fa-eye-slash"></i>
                  </button>
                </div>
                <p class="error-message text-danger text-sm mt-1 hidden">密码格式错误，需至少 6 位，包含字母和数字</p>
              </div>
              
              <div>
                <label for="register-confirm-password" class="block text-sm font-medium text-gray-700 mb-1">确认密码 <span class="text-danger">*</span></label>
                <div class="relative">
                  <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                    <i class="fa fa-lock text-gray-400"></i>
                  </div>
                  <input type="password" id="register-confirm-password" name="register-confirm-password" class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200" placeholder="请再次输入密码">
                </div>
                <p class="error-message text-danger text-sm mt-1 hidden">两次输入的密码不一致</p>
              </div>
              
              <div class="flex items-center">
                <input type="checkbox" id="agree-terms" name="agree-terms" class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary">
                <label for="agree-terms" class="ml-2 block text-sm text-gray-700">我已阅读并同意 <a href="#" class="text-primary hover:text-primary/80">服务条款</a> 和 <a href="#" class="text-primary hover:text-primary/80">隐私政策</a></label>
              </div>
              
              <div>
                <button type="submit" class="w-full py-3 bg-primary text-white rounded-lg shadow-md hover:shadow-lg hover:bg-primary/90 transition-all duration-300">
                  注册
                </button>
              </div>
              
              <div class="text-center text-sm text-gray-600">
                已有账户？ <button type="button" class="text-primary hover:text-primary/80 font-medium" id="switch-to-login">立即登录</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- 页脚 -->
  <footer class="bg-dark text-white py-12">
    <div class="container mx-auto px-4">
      <div class="grid md:grid-cols-4 gap-8">
        <div>
          <h3 class="text-xl font-bold mb-4 flex items-center">
            <i class="fa fa-pie-chart mr-2"></i>
            <span>投票小程序</span>
          </h3>
          <p class="text-gray-400 mb-4">简单高效的投票解决方案，让决策变得轻松。</p>
          <div class="flex space-x-4">
            <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200">
              <i class="fa fa-weibo"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200">
              <i class="fa fa-wechat"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200">
              <i class="fa fa-github"></i>
            </a>
          </div>
        </div>
        
        <div>
          <h4 class="text-lg font-semibold mb-4">快速链接</h4>
          <ul class="space-y-2">
            <li><a href="#home" class="text-gray-400 hover:text-white transition-colors duration-200">首页</a></li>
            <li><a href="#dynamic" class="text-gray-400 hover:text-white transition-colors duration-200">动态</a></li>
            <li><a href="#vote" class="text-gray-400 hover:text-white transition-colors duration-200">发起投票</a></li>
            <li><a href="#mine" class="text-gray-400 hover:text-white transition-colors duration-200">我的账户</a></li>
          </ul>
        </div>
        
        <div>
          <h4 class="text-lg font-semibold mb-4">帮助中心</h4>
          <ul class="space-y-2">
            <li><a href="#" class="text-gray-400 hover:text-white transition-colors duration-200">使用指南</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition-colors duration-200">常见问题</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition-colors duration-200">联系我们</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition-colors duration-200">意见反馈</a></li>
          </ul>
        </div>
        
        <div>
          <h4 class="text-lg font-semibold mb-4">联系我们</h4>
          <ul class="space-y-2">
            <li class="flex items-center">
              <i class="fa fa-envelope-o mr-2 text-gray-400"></i>
              <span class="text-gray-400">123456789@qq.com</span>
            </li>
            <li class="flex items-center">
              <i class="fa fa-phone mr-2 text-gray-400"></i>
              <span class="text-gray-400">没手机</span>
            </li>
            <li class="flex items-start">
              <i class="fa fa-map-marker mr-2 text-gray-400 mt-1"></i>
              <span class="text-gray-400">四海为家</span>
            </li>
          </ul>
        </div>
      </div>
      
      <div class="border-t border-gray-800 mt-10 pt-6 text-center text-gray-500 text-sm">
        <p>© 2025 投票小程序 没有版权</p>
      </div>
    </div>
  </footer>

  <!-- 登录/注册模态框 -->
  <div id="auth-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
    <div class="bg-white rounded-xl shadow-xl max-w-md w-full mx-4 overflow-hidden transform transition-all duration-300 scale-95 opacity-0" id="modal-content">
      <div class="flex">
        <button class="flex-1 py-4 font-medium border-b-2 border-primary text-primary" id="modal-login-tab">登录</button>
        <button class="flex-1 py-4 font-medium border-b-2 border-transparent text-gray-500" id="modal-register-tab">注册</button>
      </div>
      
      <!-- 模态框登录表单 -->
      <div class="p-6" id="modal-login-container">
        <form id="modal-login-form" class="space-y-4">
          <div>
            <label for="modal-login-username" class="block text-sm font-medium text-gray-700 mb-1">用户名/邮箱</label>
            <div class="relative">
              <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <i class="fa fa-user-o text-gray-400"></i>
              </div>
              <input type="text" id="modal-login-username" name="modal-login-username" class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200" placeholder="请输入用户名或邮箱">
            </div>
            <p class="error-message text-danger text-sm mt-1 hidden">请输入有效的用户名或邮箱</p>
          </div>
          
          <div>
            <label for="modal-login-password" class="block text-sm font-medium text-gray-700 mb-1">密码</label>
            <div class="relative">
              <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <i class="fa fa-lock text-gray-400"></i>
              </div>
              <input type="password" id="modal-login-password" name="modal-login-password" class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200" placeholder="请输入密码">
              <button type="button" class="absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600" id="modal-toggle-login-password">
                <i class="fa fa-eye-slash"></i>
              </button>
            </div>
            <p class="error-message text-danger text-sm mt-1 hidden">请输入有效的密码（至少6位）</p>
          </div>
          
          <div class="flex items-center justify-between">
            <div class="flex items-center">
              <input type="checkbox" id="modal-remember-me" name="modal-remember-me" class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary">
              <label for="modal-remember-me" class="ml-2 block text-sm text-gray-700">记住我</label>
            </div>
            <a href="#" class="text-sm text-primary hover:text-primary/80">忘记密码？</a>
          </div>
          
          <div>
            <button type="submit" class="w-full py-3 bg-primary text-white rounded-lg shadow-md hover:shadow-lg hover:bg-primary/90 transition-all duration-300">
              登录
            </button>
          </div>
          
          <div class="text-center text-sm text-gray-600">
            还没有账户？ <button type="button" class="text-primary hover:text-primary/80 font-medium" id="modal-switch-to-register">立即注册</button>
          </div>
        </form>
      </div>
      
      <!-- 模态框注册表单 -->
      <div class="p-6 hidden" id="modal-register-container">
        <form id="modal-register-form" class="space-y-4">
          <div>
            <label for="modal-register-username" class="block text-sm font-medium text-gray-700 mb-1">用户名 <span class="text-danger">*</span></label>
            <div class="relative">
              <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <i class="fa fa-user-o text-gray-400"></i>
              </div>
              <input type="text" id="modal-register-username" name="modal-register-username" class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200" placeholder="请输入用户名">
            </div>
            <p class="error-message text-danger text-sm mt-1 hidden">用户名格式错误，需为 3-20 位字母、数字或下划线</p>
          </div>
          
          <div>
            <label for="modal-register-email" class="block text-sm font-medium text-gray-700 mb-1">邮箱 <span class="text-danger">*</span></label>
            <div class="relative">
              <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <i class="fa fa-envelope-o text-gray-400"></i>
              </div>
              <input type="email" id="modal-register-email" name="modal-register-email" class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200" placeholder="请输入邮箱">
            </div>
            <p class="error-message text-danger text-sm mt-1 hidden">请输入有效的邮箱地址</p>
          </div>
          
          <div>
            <label for="modal-register-password" class="block text-sm font-medium text-gray-700 mb-1">密码 <span class="text-danger">*</span></label>
            <div class="relative">
              <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <i class="fa fa-lock text-gray-400"></i>
              </div>
              <input type="password" id="modal-register-password" name="modal-register-password" class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200" placeholder="请输入密码">
              <button type="button" class="absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600" id="modal-toggle-register-password">
                <i class="fa fa-eye-slash"></i>
              </button>
            </div>
            <p class="error-message text-danger text-sm mt-1 hidden">密码格式错误，需至少 6 位，包含字母和数字</p>
          </div>
          
          <div>
            <label for="modal-register-confirm-password" class="block text-sm font-medium text-gray-700 mb-1">确认密码 <span class="text-danger">*</span></label>
            <div class="relative">
              <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <i class="fa fa-lock text-gray-400"></i>
              </div>
              <input type="password" id="modal-register-confirm-password" name="modal-register-confirm-password" class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200" placeholder="请再次输入密码">
            </div>
            <p class="error-message text-danger text-sm mt-1 hidden">两次输入的密码不一致</p>
          </div>
          
          <div class="flex items-center">
            <input type="checkbox" id="modal-agree-terms" name="modal-agree-terms" class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary">
            <label for="modal-agree-terms" class="ml-2 block text-sm text-gray-700">我已阅读并同意 <a href="#" class="text-primary hover:text-primary/80">服务条款</a> 和 <a href="#" class="text-primary hover:text-primary/80">隐私政策</a></label>
          </div>
          
          <div>
            <button type="submit" class="w-full py-3 bg-primary text-white rounded-lg shadow-md hover:shadow-lg hover:bg-primary/90 transition-all duration-300">
              注册
            </button>
          </div>
          
          <div class="text-center text-sm text-gray-600">
            已有账户？ <button type="button" class="text-primary hover:text-primary/80 font-medium" id="modal-switch-to-login">立即登录</button>
          </div>
        </form>
      </div>
      
      <button class="absolute top-4 right-4 text-gray-400 hover:text-gray-600" id="close-modal">
        <i class="fa fa-times"></i>
      </button>
    </div>
  </div>

  <!-- JavaScript -->
  <script>
    // 导航栏滚动效果
    const navbar = document.getElementById('navbar');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 100) {
        navbar.classList.add('py-2');
        navbar.classList.remove('py-3');
        navbar.classList.add('shadow-lg');
      } else {
        navbar.classList.add('py-3');
        navbar.classList.remove('py-2');
        navbar.classList.remove('shadow-lg');
      }
    });
    
    // 移动端菜单
    const menuToggle = document.getElementById('menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');
    menuToggle.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });
    
    // 平滑滚动
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        
        const targetId = this.getAttribute('href');
        const targetElement = document.querySelector(targetId);
        
        if (targetElement) {
          window.scrollTo({
            top: targetElement.offsetTop - 80,
            behavior: 'smooth'
          });
          
          // 关闭移动端菜单
          if (!mobileMenu.classList.contains('hidden')) {
            mobileMenu.classList.add('hidden');
          }
        }
      });
    });
    
    // 表单验证正则表达式
    const usernameReg = /^[a-zA-Z0-9_]{3,20}$/;
    const emailReg = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
    const passwordReg = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/;
    
    // 表单验证函数
    function validateRegisterForm(form) {
      let isValid = true;
      
      const username = form.querySelector('#register-username') || form.querySelector('#modal-register-username');
      const email = form.querySelector('#register-email') || form.querySelector('#modal-register-email');
      const password = form.querySelector('#register-password') || form.querySelector('#modal-register-password');
      const confirmPassword = form.querySelector('#register-confirm-password') || form.querySelector('#modal-register-confirm-password');
      
      // 验证用户名
      if (!usernameReg.test(username.value.trim())) {
        showError(username, '用户名格式错误，需为 3-20 位字母、数字或下划线');
        isValid = false;
      } else {
        hideError(username);
      }
      
      // 验证邮箱
      if (!emailReg.test(email.value.trim())) {
        showError(email, '请输入有效的邮箱地址');
        isValid = false;
      } else {
        hideError(email);
      }
      
      // 验证密码
      if (!passwordReg.test(password.value)) {
        showError(password, '密码格式错误，需至少 6 位，包含字母和数字');
        isValid = false;
      } else {
        hideError(password);
      }
      
      // 验证确认密码
      if (password.value !== confirmPassword.value) {
        showError(confirmPassword, '两次输入的密码不一致');
        isValid = false;
      } else {
        hideError(confirmPassword);
      }
      
      return isValid;
    }
    
    function validateLoginForm(form) {
      let isValid = true;
      
      const username = form.querySelector('#login-username') || form.querySelector('#modal-login-username');
      const password = form.querySelector('#login-password') || form.querySelector('#modal-login-password');
      
      // 验证用户名/邮箱
      if (!username.value.trim()) {
        showError(username, '请输入用户名或邮箱');
        isValid = false;
      } else {
        hideError(username);
      }
      
      // 验证密码
      if (!password.value || password.value.length < 6) {
        showError(password, '请输入有效的密码（至少6位）');
        isValid = false;
      } else {
        hideError(password);
      }
      
      return isValid;
    }
    
    function validateVoteForm() {
      let isValid = true;
      
      const title = document.getElementById('vote-title');
      const voteType = document.getElementById('vote-type');
      const options = document.querySelectorAll('[data-option]');
      const startDate = document.getElementById('start-date');
      const endDate = document.getElementById('end-date');
      
      // 验证标题
      if (!title.value.trim() || title.value.length < 3 || title.value.length > 50) {
        showError(title, '请输入有效的投票标题（3-50个字符）');
        isValid = false;
      } else {
        hideError(title);
      }
      
      // 验证投票类型
      if (!voteType.value) {
        showError(voteType, '请选择投票类型');
        isValid = false;
      } else {
        hideError(voteType);
      }
      
      // 验证选项
      let validOptions = 0;
      options.forEach(option => {
        if (option.value.trim()) {
          validOptions++;
        }
      });
      
      if (validOptions < 2) {
        showError(options[0], '至少需要两个选项');
        isValid = false;
      } else {
        hideError(options[0]);
      }
      
      // 验证日期
      if (!startDate.value || !endDate.value) {
        showError(startDate, '请选择有效的开始和结束日期');
        isValid = false;
      } else if (new Date(startDate.value) >= new Date(endDate.value)) {
        showError(startDate, '结束日期必须晚于开始日期');
        isValid = false;
      } else {
        hideError(startDate);
      }
      
      return isValid;
    }
    
    function showError(input, message) {
      const errorElement = input.parentElement.querySelector('.error-message');
      if (errorElement) {
        errorElement.textContent = message;
        errorElement.classList.remove('hidden');
      }
      input.classList.add('border-danger');
      input.classList.remove('focus:border-primary');
      input.classList.add('focus:border-danger');
    }
    
    function hideError(input) {
      const errorElement = input.parentElement.querySelector('.error-message');
      if (errorElement) {
        errorElement.classList.add('hidden');
      }
      input.classList.remove('border-danger');
      input.classList.add('focus:border-primary');
      input.classList.remove('focus:border-danger');
    }
    
    // 注册表单提交
    const registerForm = document.getElementById('register-form');
    if (registerForm) {
      registerForm.addEventListener('submit', function (e) {
        e.preventDefault();
        if (validateRegisterForm(this)) {
          // 这里可写注册成功后的逻辑，比如发请求到后台等
          alert('注册成功！请登录');
          this.reset();
        }
      });
    }
    
    // 模态框注册表单提交
    const modalRegisterForm = document.getElementById('modal-register-form');
    if (modalRegisterForm) {
      modalRegisterForm.addEventListener('submit', function (e) {
        e.preventDefault();
        if (validateRegisterForm(this)) {
          // 这里可写注册成功后的逻辑，比如发请求到后台等
          alert('注册成功！请登录');
          toggleAuthModal('login');
          this.reset();
        }
      });
    }
    
    // 登录表单提交
    const loginForm = document.getElementById('login-form');
    if (loginForm) {
      loginForm.addEventListener('submit', function (e) {
        e.preventDefault();
        if (validateLoginForm(this)) {
          // 这里可写登录成功后的逻辑，比如发请求到后台等
          alert('登录成功！');
          this.reset();
          updateUserInfo();
        }
      });
    }
    
    // 模态框登录表单提交
    const modalLoginForm = document.getElementById('modal-login-form');
    if (modalLoginForm) {
      modalLoginForm.addEventListener('submit', function (e) {
        e.preventDefault();
        if (validateLoginForm(this)) {
          // 这里可写登录成功后的逻辑，比如发请求到后台等
          alert('登录成功！');
          toggleAuthModal();
          this.reset();
          updateUserInfo();
        }
      });
    }
    
    // 投票表单提交
    const voteForm = document.getElementById('vote-form');
    if (voteForm) {
      voteForm.addEventListener('submit', function (e) {
        e.preventDefault();
        if (validateVoteForm()) {
          // 这里可写投票成功后的逻辑，比如发请求到后台等
          alert('投票创建成功！');
          this.reset();
          // 更新投票统计
          updateVoteChart();
        }
      });
    }
    
    // 添加投票选项
    const addOptionBtn = document.getElementById('add-option');
    if (addOptionBtn) {
      addOptionBtn.addEventListener('click', function () {
        const optionsContainer = document.getElementById('options-container');
        const newOption = document.createElement('div');
        newOption.className = 'flex items-center';
        newOption.innerHTML = `
          <input type="text" class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200" placeholder="请输入选项名称" data-option>
          <button type="button" class="ml-2 text-gray-500 hover:text-danger" data-remove-option>
            <i class="fa fa-times"></i>
          </button>
        `;
        optionsContainer.appendChild(newOption);
        
        // 为新添加的删除按钮绑定事件
        newOption.querySelector('[data-remove-option]').addEventListener('click', function () {
          newOption.remove();
        });
      });
    }
    
    // 删除投票选项
    document.querySelectorAll('[data-remove-option]').forEach(button => {
      button.addEventListener('click', function () {
        const optionCount = document.querySelectorAll('[data-option]').length;
        if (optionCount > 2) {
          this.parentElement.remove();
        } else {
          alert('至少需要保留两个选项');
        }
      });
    });
    
    // 显示/隐藏密码
    const toggleLoginPassword = document.getElementById('toggle-login-password');
    if (toggleLoginPassword) {
      toggleLoginPassword.addEventListener('click', function () {
        const passwordInput = document.getElementById('login-password');
        const icon = this.querySelector('i');
        
        if (passwordInput.type === 'password') {
          passwordInput.type = 'text';
          icon.classList.remove('fa-eye-slash');
          icon.classList.add('fa-eye');
        } else {
          passwordInput.type = 'password';
          icon.classList.remove('fa-eye');
          icon.classList.add('fa-eye-slash');
        }
      });
    }
    
    const toggleRegisterPassword = document.getElementById('toggle-register-password');
    if (toggleRegisterPassword) {
      toggleRegisterPassword.addEventListener('click', function () {
        const passwordInput = document.getElementById('register-password');
        const icon = this.querySelector('i');
        
        if (passwordInput.type === 'password') {
          passwordInput.type = 'text';
          icon.classList.remove('fa-eye-slash');
          icon.classList.add('fa-eye');
        } else {
          passwordInput.type = 'password';
          icon.classList.remove('fa-eye');
          icon.classList.add('fa-eye-slash');
        }
      });
    }
    
    // 模态框显示/隐藏密码
    const modalToggleLoginPassword = document.getElementById('modal-toggle-login-password');
    if (modalToggleLoginPassword) {
      modalToggleLoginPassword.addEventListener('click', function () {
        const passwordInput = document.getElementById('modal-login-password');
        const icon = this.querySelector('i');
        
        if (passwordInput.type === 'password') {
          passwordInput.type = 'text';
          icon.classList.remove('fa-eye-slash');
          icon.classList.add('fa-eye');
        } else {
          passwordInput.type = 'password';
          icon.classList.remove('fa-eye');
          icon.classList.add('fa-eye-slash');
        }
      });
    }
    
    const modalToggleRegisterPassword = document.getElementById('modal-toggle-register-password');
    if (modalToggleRegisterPassword) {
      modalToggleRegisterPassword.addEventListener('click', function () {
        const passwordInput = document.getElementById('modal-register-password');
        const icon = this.querySelector('i');
        
        if (passwordInput.type === 'password') {
          passwordInput.type = 'text';
          icon.classList.remove('fa-eye-slash');
          icon.classList.add('fa-eye');
        } else {
          passwordInput.type = 'password';
          icon.classList.remove('fa-eye');
          icon.classList.add('fa-eye-slash');
        }
      });
    }
    
    // 切换登录/注册表单
    const loginTab = document.getElementById('login-tab');
    const registerTab = document.getElementById('register-tab');
    const loginFormContainer = document.getElementById('login-form-container');
    const registerFormContainer = document.getElementById('register-form-container');
    
    if (loginTab && registerTab) {
      loginTab.addEventListener('click', function () {
        loginTab.classList.add('border-primary', 'text-primary');
        loginTab.classList.remove('border-transparent', 'text-gray-500');
        registerTab.classList.remove('border-primary', 'text-primary');
        registerTab.classList.add('border-transparent', 'text-gray-500');
        loginFormContainer.classList.remove('hidden');
        registerFormContainer.classList.add('hidden');
      });
      
      registerTab.addEventListener('click', function () {
        registerTab.classList.add('border-primary', 'text-primary');
        registerTab.classList.remove('border-transparent', 'text-gray-500');
        loginTab.classList.remove('border-primary', 'text-primary');
        loginTab.classList.add('border-transparent', 'text-gray-500');
        registerFormContainer.classList.remove('hidden');
        loginFormContainer.classList.add('hidden');
      });
    }
    
    // 模态框切换登录/注册表单
    const modalLoginTab = document.getElementById('modal-login-tab');
    const modalRegisterTab = document.getElementById('modal-register-tab');
    const modalLoginContainer = document.getElementById('modal-login-container');
    const modalRegisterContainer = document.getElementById('modal-register-container');
    
    if (modalLoginTab && modalRegisterTab) {
      modalLoginTab.addEventListener('click', function () {
        modalLoginTab.classList.add('border-primary', 'text-primary');
        modalLoginTab.classList.remove('border-transparent', 'text-gray-500');
        modalRegisterTab.classList.remove('border-primary', 'text-primary');
        modalRegisterTab.classList.add('border-transparent', 'text-gray-500');
        modalLoginContainer.classList.remove('hidden');
        modalRegisterContainer.classList.add('hidden');
      });
      
      modalRegisterTab.addEventListener('click', function () {
        modalRegisterTab.classList.add('border-primary', 'text-primary');
        modalRegisterTab.classList.remove('border-transparent', 'text-gray-500');
        modalLoginTab.classList.remove('border-primary', 'text-primary');
        modalLoginTab.classList.add('border-transparent', 'text-gray-500');
        modalRegisterContainer.classList.remove('hidden');
        modalLoginContainer.classList.add('hidden');
      });
    }
    
    // 表单切换按钮
    const switchToRegister = document.getElementById('switch-to-register');
    const switchToLogin = document.getElementById('switch-to-login');
    
    if (switchToRegister && switchToLogin) {
      switchToRegister.addEventListener('click', function () {
        registerTab.click();
      });
      
      switchToLogin.addEventListener('click', function () {
        loginTab.click();
      });
    }
    
    // 模态框表单切换按钮
    const modalSwitchToRegister = document.getElementById('modal-switch-to-register');
    const modalSwitchToLogin = document.getElementById('modal-switch-to-login');
    
    if (modalSwitchToRegister && modalSwitchToLogin) {
      modalSwitchToRegister.addEventListener('click', function () {
        modalRegisterTab.click();
      });
      
      modalSwitchToLogin.addEventListener('click', function () {
        modalLoginTab.click();
      });
    }
    
    // 登录/注册模态框
    const authModal = document.getElementById('auth-modal');
    const modalContent = document.getElementById('modal-content');
    const loginBtn = document.getElementById('login-btn');
    const registerBtn = document.getElementById('register-btn');
    const loginModalBtn = document.getElementById('login-modal-btn');
    const closeModal = document.getElementById('close-modal');
    
    function toggleAuthModal(type = 'login') {
      authModal.classList.toggle('hidden');
      
      if (!authModal.classList.contains('hidden')) {
        setTimeout(() => {
          modalContent.classList.remove('scale-95', 'opacity-0');
          modalContent.classList.add('scale-100', 'opacity-100');
        }, 10);
        
        if (type === 'register') {
          modalRegisterTab.click();
        } else {
          modalLoginTab.click();
        }
      } else {
        modalContent.classList.remove('scale-100', 'opacity-100');
        modalContent.classList.add('scale-95', 'opacity-0');
      }
    }
    
    if (loginBtn) {
      loginBtn.addEventListener('click', () => toggleAuthModal('login'));
    }
    
    if (registerBtn) {
      registerBtn.addEventListener('click', () => toggleAuthModal('register'));
    }
    
    if (loginModalBtn) {
      loginModalBtn.addEventListener('click', () => toggleAuthModal('login'));
    }
    
    if (closeModal) {
      closeModal.addEventListener('click', toggleAuthModal);
    }
    
    // 点击模态框外部关闭
    authModal.addEventListener('click', function (e) {
      if (e.target === authModal) {
        toggleAuthModal();
      }
    });
    
    // 鼠标跟随特效
    const cursorDot = document.getElementById('cursor-dot');
    document.addEventListener('mousemove', function (e) {
      const x = e.clientX;
      const y = e.clientY;
      
      cursorDot.style.left = `${x}px`;
      cursorDot.style.top = `${y}px`;
    });
    
    // 鼠标悬停效果
    const hoverElements = document.querySelectorAll('a, button, .vote-item, .card-hover');
    hoverElements.forEach(element => {
      element.addEventListener('mouseenter', () => {
        cursorDot.classList.add('active');
      });
      
      element.addEventListener('mouseleave', () => {
        cursorDot.classList.remove('active');
      });
    });
    
    // 更新用户信息（登录后）
    function updateUserInfo() {
      const userAvatar = document.querySelector('.rounded-full.mx-auto');
      const userName = document.querySelector('.font-semibold.text-lg.mt-4');
      
      if (userAvatar && userName) {
        userAvatar.src = 'https://picsum.photos/200/200?random=5';
        userName.textContent = '测试用户';
        
        // 更新登录/注册按钮为退出
        const loginBtn = document.getElementById('login-btn');
        const registerBtn = document.getElementById('register-btn');
        
        if (loginBtn && registerBtn) {
          loginBtn.textContent = '退出';
          loginBtn.classList.remove('text-primary', 'border-primary', 'hover:bg-primary/5');
          loginBtn.classList.add('text-gray-600', 'hover:text-gray-900');
          registerBtn.classList.add('hidden');
          
          loginBtn.addEventListener('click', function () {
            // 退出登录逻辑
            if (userAvatar && userName) {
              userAvatar.src = 'https://picsum.photos/200/200?random=4';
              userName.textContent = '未登录用户';
            }
            
            loginBtn.textContent = '登录';
            loginBtn.classList.add('text-primary', 'border-primary', 'hover:bg-primary/5');
            loginBtn.classList.remove('text-gray-600', 'hover:text-gray-900');
            registerBtn.classList.remove('hidden');
          });
        }
      }
    }
    
    // 初始化ECharts图表
    let voteChart;
    function initVoteChart() {
      const chartDom = document.getElementById('vote-chart');
      if (chartDom && typeof echarts !== 'undefined') {
        voteChart = echarts.init(chartDom);
        
        // 模拟投票数据
        const voteData = {
          categories: ['选项 A', '选项 B', '选项 C', '选项 D', '选项 E'],
          data: [35, 25, 20, 12, 8]
        };
        
        const option = {
          title: {
            text: '投票结果分布',
            left: 'center',
            textStyle: {
              fontSize: 16,
              fontWeight: 'normal'
            }
          },
          tooltip: {
            trigger: 'item',
            formatter: '{a} <br/>{b}: {c} ({d}%)'
          },
          legend: {
            type: 'scroll',
            orient: 'vertical',
            right: 10,
            top: 20,
            bottom: 20,
            data: voteData.categories
          },
          series: [
            {
              name: '投票数',
              type: 'pie',
              radius: ['40%', '70%'],
              avoidLabelOverlap: false,
              label: {
                show: false,
                position: 'center'
              },
              emphasis: {
                label: {
                  show: true,
                  fontSize: '18',
                  fontWeight: 'bold'
                }
              },
              labelLine: {
                show: false
              },
              data: voteData.categories.map((category, index) => ({
                value: voteData.data[index],
                name: category
              }))
            }
          ]
        };
        
        voteChart.setOption(option);
      }
    }
    
    // 更新投票图表
    function updateVoteChart() {
      if (voteChart) {
        // 模拟新的投票数据
        const voteData = {
          categories: ['选项 A', '选项 B', '选项 C', '选项 D', '选项 E', '选项 F'],
          data: [30, 22, 18, 15, 10, 5]
        };
        
        voteChart.setOption({
          legend: {
            data: voteData.categories
          },
          series: [
            {
              data: voteData.categories.map((category, index) => ({
                value: voteData.data[index],
                name: category
              }))
            }
          ]
        });
      }
    }
    
    // 页面加载完成后初始化
    window.addEventListener('load', function() {
      initVoteChart();
      
      // 设置日期默认值
      const today = new Date();
      const tomorrow = new Date(today);
      tomorrow.setDate(tomorrow.getDate() + 1);
      
      const startDateInput = document.getElementById('start-date');
      const endDateInput = document.getElementById('end-date');
      
      if (startDateInput) {
        startDateInput.valueAsDate = today;
      }
      
      if (endDateInput) {
        endDateInput.valueAsDate = tomorrow;
      }
    });
    
    // 窗口大小变化时重绘图表
    window.addEventListener('resize', function() {
      if (voteChart) {
        voteChart.resize();
      }
    });

      // 初始化轮播图
  const swiper = new Swiper('.mySwiper', {
    loop: true,
    autoplay: { delay: 3000 },
    pagination: { el: '.swiper-pagination', clickable: true }
  });
  </script>
</body>
